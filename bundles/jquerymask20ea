!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n){var i,t=navigator.userAgent,u=/iphone/i.test(t),f=/chrome/i.test(t),r=/android/i.test(t);n.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"};n.fn.extend({caret:function(n,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof n?(t="number"==typeof t?t:n,this.each(function(){this.setSelectionRange?this.setSelectionRange(n,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select())})):(this[0].setSelectionRange?(n=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),n=0-i.duplicate().moveStart("character",-1e5),t=n+i.text.length),{begin:n,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,e){var p,l,o,c,h,v,s,a,y;return!t&&this.length>0?(p=n(this[0]),y=p.data(n.mask.dataName),y?y():void 0):(e=n.extend({autoclear:n.mask.autoclear,placeholder:n.mask.placeholder,completed:null},e),l=n.mask.definitions,o=[],c=s=t.length,h=null,n.each(t.split(""),function(n,t){"?"==t?(s--,c=n):l[t]?(o.push(new RegExp(l[t])),null===h&&(h=o.length-1),c>n&&(v=o.length-1)):o.push(null)}),this.trigger("unmask").each(function(){function nt(){if(e.completed){for(var n=h;v>=n;n++)if(o[n]&&p[n]===w(n))return;e.completed.call(y)}}function w(n){return e.placeholder.charAt(n<e.placeholder.length?n:0)}function b(n){for(;++n<s&&!o[n];);return n}function ut(n){for(;--n>=0&&!o[n];);return n}function it(n,t){var r,i;if(!(0>n)){for(r=n,i=b(t);s>r;r++)if(o[r]){if(!(s>i&&o[r].test(p[i])))break;p[r]=p[i];p[i]=w(i);i=b(i)}d();y.caret(Math.max(h,n))}}function ft(n){for(var r,u,t=n,i=w(n);s>t;t++)if(o[t]){if(r=b(t),u=p[t],p[t]=i,!(s>r&&o[r].test(u)))break;i=u}}function et(){var t=y.val(),n=y.caret();if(a&&a.length&&a.length>t.length){for(k(!0);n.begin>0&&!o[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<h&&!o[n.begin];)n.begin++;y.caret(n.begin,n.begin)}else{for(k(!0);n.begin<s&&!o[n.begin];)n.begin++;y.caret(n.begin,n.begin)}nt()}function rt(){k();y.val()!=tt&&y.change()}function ot(n){if(!y.prop("readonly")){var f,i,t,r=n.which||n.keyCode;a=y.val();8===r||46===r||u&&127===r?(f=y.caret(),i=f.begin,t=f.end,t-i==0&&(i=46!==r?ut(i):t=b(i-1),t=46===r?b(t):t),g(i,t),it(i,t-1),n.preventDefault()):13===r?rt.call(this,n):27===r&&(y.val(tt),y.caret(0,k()),n.preventDefault())}}function st(t){var u,e,h,f,i,c;y.prop("readonly")||(f=t.which||t.keyCode,i=y.caret(),t.ctrlKey||t.altKey||t.metaKey||32>f||!f||13===f||((i.end-i.begin!=0&&(g(i.begin,i.end),it(i.begin,i.end-1)),u=b(i.begin-1),s>u&&(e=String.fromCharCode(f),o[u].test(e)))&&((ft(u),p[u]=e,d(),h=b(u),r)?(c=function(){n.proxy(n.fn.caret,y,h)()},setTimeout(c,0)):y.caret(h),i.begin<=v&&nt()),t.preventDefault()))}function g(n,t){for(var i=n;t>i&&s>i;i++)o[i]&&(p[i]=w(i))}function d(){y.val(p.join(""))}function k(n){for(var f,r=y.val(),u=-1,t=0,i=0;s>t;t++)if(o[t]){for(p[t]=w(t);i++<r.length;)if(f=r.charAt(i-1),o[t].test(f)){p[t]=f;u=t;break}if(i>r.length){g(t+1,s);break}}else p[t]===r.charAt(i)&&i++,c>t&&(u=t);return n?d():c>u+1?e.autoclear||p.join("")===ht?(y.val()&&y.val(""),g(0,s)):d():(d(),y.val(y.val().substring(0,u+1))),c?t:h}var y=n(this),p=n.map(t.split(""),function(n,t){if("?"!=n)return l[n]?w(t):n}),ht=p.join(""),tt=y.val();y.data(n.mask.dataName,function(){return n.map(p,function(n,t){return o[t]&&n!=w(t)?n:null}).join("")});y.one("unmask",function(){y.off(".mask").removeData(n.mask.dataName)}).on("focus.mask",function(){if(!y.prop("readonly")){clearTimeout(i);var n;tt=y.val();n=k();i=setTimeout(function(){y.get(0)===document.activeElement&&(d(),n==t.replace("?","").length?y.caret(0,n):y.caret(n))},10)}}).on("blur.mask",rt).on("keydown.mask",ot).on("keypress.mask",st).on("input.mask paste.mask",function(){y.prop("readonly")||setTimeout(function(){var n=k(!0);y.caret(n);nt()},0)});f&&r&&y.off("input.mask").on("input.mask",et);k()}))}})});!function(n){"use strict";function t(n,t){var i="";return n.indexOf("-")>-1&&(n=n.replace("-",""),i="-"),n.indexOf(t.prefix)>-1&&(n=n.replace(t.prefix,"")),n.indexOf(t.suffix)>-1&&(n=n.replace(t.suffix,"")),i+t.prefix+n+t.suffix}function i(n,t){return t.allowEmpty&&""===n?"":t.reverse?o(n,t):e(n,t)}function e(n,i){var f,e,o,s=n.indexOf("-")>-1&&i.allowNegative?"-":"",r=n.replace(/[^0-9]/g,"");return f=u(r.slice(0,r.length-i.precision),s,i),i.precision>0&&(e=r.slice(r.length-i.precision),o=new Array(i.precision+1-e.length).join(0),f+=i.decimal+o+e),t(f,i)}function o(n,i){var r,c=n.indexOf("-")>-1&&i.allowNegative?"-":"",s=n.replace(i.prefix,"").replace(i.suffix,""),f=s.split(i.decimal)[0],e="",o,h;return(""===f&&(f="0"),r=u(f,c,i),i.precision>0)&&(o=s.split(i.decimal),o.length>1&&(e=o[1]),r+=i.decimal+e,h=Number.parseFloat(f+"."+e).toFixed(i.precision).toString().split(i.decimal)[1],r=r.split(i.decimal)[0]+"."+h),t(r,i)}function u(n,t,i){return n=n.replace(/^0*/g,""),""===(n=n.replace(/\B(?=(\d{3})+(?!\d))/g,i.thousands))&&(n="0"),t+n}n.browser||(n.browser={},n.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),n.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase()),n.browser.opera=/opera/.test(navigator.userAgent.toLowerCase()),n.browser.msie=/msie/.test(navigator.userAgent.toLowerCase()),n.browser.device=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));var f={prefix:"",suffix:"",affixesStay:!0,thousands:",",decimal:".",precision:2,allowZero:!1,allowNegative:!1,doubleClickSelection:!0,allowEmpty:!1,bringCaretAtEndOnFocus:!0},r={destroy:function(){return n(this).unbind(".maskMoney"),n.browser.msie&&(this.onpaste=null),this},applyMask:function(t){return i(t,n(this).data("settings"))},mask:function(t){return this.each(function(){var i=n(this);return"number"==typeof t&&i.val(t),i.trigger("mask")})},unmasked:function(){return this.map(function(){var i,t=n(this).val()||"0",r=-1!==t.indexOf("-");return n(t.split(/\D/).reverse()).each(function(n,t){if(t)return i=t,!1}),t=t.replace(/\D/g,""),t=t.replace(new RegExp(i+"$"),"."+i),r&&(t="-"+t),parseFloat(t)})},unmaskedWithOptions:function(){return this.map(function(){var t=n(this).val()||"0",i=n(this).data("settings")||f,r=new RegExp(i.thousandsForUnmasked||i.thousands,"g");return t=t.replace(r,""),parseFloat(t)})},init:function(r){return r=n.extend(n.extend({},f),r),this.each(function(){function e(){var e,o,r,f,s,n=u.get(0),i=0,t=0;return"number"==typeof n.selectionStart&&"number"==typeof n.selectionEnd?(i=n.selectionStart,t=n.selectionEnd):(o=document.selection.createRange())&&o.parentElement()===n&&(f=n.value.length,e=n.value.replace(/\r\n/g,"\n"),(r=n.createTextRange()).moveToBookmark(o.getBookmark()),(s=n.createTextRange()).collapse(!1),r.compareEndPoints("StartToEnd",s)>-1?i=t=f:(i=-r.moveStart("character",-f),i+=e.slice(0,i).split("\n").length-1,r.compareEndPoints("EndToEnd",s)>-1?t=f:(t=-r.moveEnd("character",-f),t+=e.slice(0,t).split("\n").length-1))),{start:i,end:t}}function p(){var t=!(u.val().length>=u.attr("maxlength")&&u.attr("maxlength")>=0),n=e(),i=n.start,r=n.end,f=!(n.start===n.end||!u.val().substring(i,r).match(/\d/)),o="0"===u.val().substring(0,1);return t||f||o}function w(n){f.formatOnBlur||u.each(function(t,i){if(i.setSelectionRange)i.focus(),i.setSelectionRange(n,n);else if(i.createTextRange){var r=i.createTextRange();r.collapse(!0);r.moveEnd("character",n);r.moveStart("character",n);r.select()}})}function l(n){var t,r=u.val().length;u.val(i(u.val(),f));t=u.val().length;f.reverse||(n-=r-t);w(n)}function o(){var n=u.val(),t,e,r;f.allowEmpty&&""===n||(t=n.indexOf(f.decimal),f.precision>0?t<0?n+=f.decimal+new Array(f.precision+1).join(0):(e=n.slice(0,t),r=n.slice(t+1),n=e+f.decimal+r+new Array(f.precision+1-r.length).join(0)):t>0&&(n=n.slice(0,t)),u.val(i(n,f)))}function b(){var n=u.val();return f.allowNegative?""!==n&&"-"===n.charAt(0)?n.replace("-",""):"-"+n:n}function s(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function a(n){var t=(n=n||window.event).which||n.charCode||n.keyCode,i=f.decimal.charCodeAt(0);return void 0!==t&&(!(t<48||t>57)||t===i&&f.reverse?!!p()&&(t!==i||!k())&&(!!f.formatOnBlur||(s(n),v(n),!1)):nt(t,n))}function k(){return!d()&&g()}function d(){var t=u.val().length,n=e();return 0===n.start&&n.end===t}function g(){return u.val().indexOf(f.decimal)>-1}function v(n){var f,i,o,t,r=(n=n||window.event).which||n.charCode||n.keyCode,s="";r>=48&&r<=57&&(s=String.fromCharCode(r));i=(f=e()).start;o=f.end;t=u.val();u.val(t.substring(0,i)+s+t.substring(o,t.length));l(i+1)}function nt(t,i){return 45===t?(u.val(b()),!1):43===t?(u.val(u.val().replace("-","")),!1):13===t||9===t||!(!n.browser.mozilla||37!==t&&39!==t||0!==i.charCode)||(s(i),!0)}function y(){setTimeout(function(){o()},0)}function h(){return(parseFloat("0")/Math.pow(10,f.precision)).toFixed(f.precision).replace(new RegExp("\\.","g"),f.decimal)}var f,c,u=n(this);f=n.extend({},r);f=n.extend(f,u.data());u.data("settings",f);n.browser.device&&u.attr("type","tel");u.unbind(".maskMoney");u.bind("keypress.maskMoney",a);u.bind("keydown.maskMoney",function(n){var h,t,r,i,c,o=(n=n||window.event).which||n.charCode||n.keyCode;return void 0!==o&&(h=e(),t=h.start,r=h.end,8!==o&&46!==o&&63272!==o||(s(n),i=u.val(),t===r&&(8===o?""===f.suffix?t-=1:(c=i.split("").reverse().join("").search(/\d/),r=1+(t=i.length-c-1)):r+=1),u.val(i.substring(0,t)+i.substring(r,i.length)),l(t),!1))});u.bind("blur.maskMoney",function(i){if(n.browser.msie&&a(i),f.formatOnBlur&&u.val()!==c&&v(i),""===u.val()&&f.allowEmpty)u.val("");else if(""===u.val()||u.val()===t(h(),f))f.allowZero?f.affixesStay?u.val(t(h(),f)):u.val(h()):u.val("");else if(!f.affixesStay){var r=u.val().replace(f.prefix,"").replace(f.suffix,"");u.val(r)}u.val()!==c&&u.change()});u.bind("focus.maskMoney",function(){c=u.val();o();var t,n=u.get(0);f.selectAllOnFocus?n.select():n.createTextRange&&f.bringCaretAtEndOnFocus&&((t=n.createTextRange()).collapse(!1),t.select())});u.bind("click.maskMoney",function(){var n,t=u.get(0);f.selectAllOnFocus||(t.setSelectionRange&&f.bringCaretAtEndOnFocus?(n=u.val().length,t.setSelectionRange(n,n)):u.val(u.val()))});u.bind("dblclick.maskMoney",function(){var t,n,i=u.get(0);i.setSelectionRange&&f.bringCaretAtEndOnFocus?(n=u.val().length,t=f.doubleClickSelection?0:n,i.setSelectionRange(t,n)):u.val(u.val())});u.bind("cut.maskMoney",y);u.bind("paste.maskMoney",y);u.bind("mask.maskMoney",o)})}};n.fn.maskMoney=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist on jQuery.maskMoney"):r.init.apply(this,arguments)}}(window.jQuery||window.Zepto)